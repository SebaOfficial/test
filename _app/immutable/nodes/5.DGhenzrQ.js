import"../chunks/DAC7LG0P.js";import{o as re}from"../chunks/C0bSztXI.js";import{p as D,ac as H,f as T,a as N,i as l,m as I,c as g,r as d,b9 as V,t as M,s as P,a8 as ue,n as ie,ak as se,al as Z,b7 as le,d as ee,b8 as oe}from"../chunks/DFz0MHP6.js";import{c as U,a as n,f as A,t as X,s as B,g as R,l as ne}from"../chunks/SlVIZIzB.js";import{e as J,i as ge}from"../chunks/DCOTTA_P.js";import{i as S}from"../chunks/GrRBOHz2.js";import{a as Y,c as ce,s as C,b as de,d as me}from"../chunks/BaBd9Dfe.js";import{b as fe,r as he,a as xe,c as be}from"../chunks/C72yFD2q.js";import{d as ae}from"../chunks/DOItc9ZA.js";import{g as ve,p as _e,s as Q,f as we}from"../chunks/CsacV0QF.js";import{r as K,p as F}from"../chunks/DbXB3-q5.js";import{c as te}from"../chunks/CddhEo5H.js";import{t as ye,s as ke}from"../chunks/GVRA5spy.js";import{p as G}from"../chunks/B3aWHZ0e.js";import{b as ze,t as Pe,d as Ce}from"../chunks/Bz170uz2.js";const Le="";function Ae(...y){return fe+Le+he(y[0],y[1])}var Me=A("<a><!></a>"),je=A("<button><!></button>");function p(y,e){D(e,!0);let a=K(e,["$$slots","$$events","$$legacy","children","size","class","href","active"]);const s=ve("paginationItem"),v=H("group"),h=H("table"),u=I(()=>_e({size:H("size")??e.size,active:e.active,group:v,table:h,class:ce(s,e.class)}));var x=U(),k=T(x);{var w=m=>{var b=Me();Y(b,()=>({href:e.href,...a,class:l(u)}));var _=g(b);{var r=o=>{var c=U(),t=T(c);Q(t,()=>e.children),n(o,c)};S(_,o=>{e.children&&o(r)})}d(b),n(m,b)},z=m=>{var b=je();Y(b,()=>({...a,class:l(u)}));var _=g(b);{var r=o=>{var c=U(),t=T(c);Q(t,()=>e.children),n(o,c)};S(_,o=>{e.children&&o(r)})}d(b),n(m,b)};S(k,m=>{e.href?m(w):m(z,!1)})}n(y,x),N()}var We=A("<li><!></li>"),Se=A("<li><!></li>"),Be=A("<li><!></li>"),Ie=A("<nav><ul><!> <!> <!></ul></nav>");function Oe(y,e){D(e,!0);let a=F(e,"pages",19,()=>[]),s=K(e,["$$slots","$$events","$$legacy","pages","previous","next","prevContent","nextContent","table","size","ariaLabel"]);const v=ve("pagination");V("group",!0),V("table",e.table),V("size",e.size);const h=I(()=>we({table:e.table,size:e.size,class:ce(v)}));var u=Ie(),x=g(u),k=g(x);{var w=_=>{var r=We();Y(r,()=>({...s}));var o=g(r);{let c=I(()=>e.table?"rounded-none rounded-l":"rounded-none  rounded-s-lg");p(o,{get size(){return e.size},onclick:()=>e.previous(),get class(){return l(c)},children:(t,i)=>{var f=U(),j=T(f);{var L=W=>{var O=U(),E=T(O);Q(E,()=>e.prevContent),n(W,O)},q=W=>{var O=X("Previous");n(W,O)};S(j,W=>{e.prevContent?W(L):W(q,!1)})}n(t,f)},$$slots:{default:!0}})}d(r),n(_,r)};S(k,_=>{typeof e.previous=="function"&&_(w)})}var z=P(k,2);J(z,19,a,({name:_,href:r,active:o,size:c},t)=>r??t,(_,r,o,c)=>{let t=()=>l(r).name,i=()=>l(r).href,f=()=>l(r).active,j=()=>l(r).size;var L=Se();Y(L,()=>({...s}));var q=g(L);p(q,{get size(){return j()},get active(){return f()},get href(){return i()},children:(W,O)=>{ue();var E=X();M(()=>B(E,t())),n(W,E)},$$slots:{default:!0}}),d(L),n(_,L)});var m=P(z,2);{var b=_=>{var r=Be();Y(r,()=>({...s}));var o=g(r);{let c=I(()=>e.table?"rounded-none rounded-r":"rounded-none rounded-e-lg");p(o,{get size(){return e.size},onclick:()=>e.next(),get class(){return l(c)},children:(t,i)=>{var f=U(),j=T(f);{var L=W=>{var O=U(),E=T(O);Q(E,()=>e.nextContent),n(W,O)},q=W=>{var O=X("Next");n(W,O)};S(j,W=>{e.nextContent?W(L):W(q,!1)})}n(t,f)},$$slots:{default:!0}})}d(r),n(_,r)};S(m,_=>{typeof e.next=="function"&&_(b)})}d(x),d(u),M(()=>{C(u,"aria-label",e.ariaLabel),de(x,1,me(l(h)))}),n(y,u),N()}var Te=R("<title> </title>"),Fe=R("<desc> </desc>"),De=R('<svg><!><!><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m14 8-4 4 4 4"></path></svg>');function Ne(y,e){D(e,!0);const a=H("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let v=F(e,"size",19,()=>a.size||"md"),h=F(e,"color",19,()=>a.color||"currentColor"),u=F(e,"strokeWidth",19,()=>a.strokeWidth||2),x=K(e,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),k=`${e.title?.id||""} ${e.desc?.id||""}`.trim();const w=!!(e.title?.id||e.desc?.id),z=!!e.ariaLabel||w;var m=De();Y(m,t=>({xmlns:"http://www.w3.org/2000/svg",fill:"none",color:h(),...x,class:t,viewBox:"0 0 24 24","aria-label":e.ariaLabel,"aria-describedby":w?k:void 0,"aria-hidden":!z}),[()=>te("shrink-0",s[v()],e.class)]);var b=g(m);{var _=t=>{var i=Te(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.title.id),B(f,e.title.title)}),n(t,i)};S(b,t=>{e.title?.id&&e.title.title&&t(_)})}var r=P(b);{var o=t=>{var i=Fe(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.desc.id),B(f,e.desc.desc)}),n(t,i)};S(r,t=>{e.desc?.id&&e.desc.desc&&t(o)})}var c=P(r);d(m),M(()=>C(c,"stroke-width",u())),n(y,m),N()}var Ee=R("<title> </title>"),Re=R("<desc> </desc>"),qe=R('<svg><!><!><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m10 16 4-4-4-4"></path></svg>');function Ge(y,e){D(e,!0);const a=H("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let v=F(e,"size",19,()=>a.size||"md"),h=F(e,"color",19,()=>a.color||"currentColor"),u=F(e,"strokeWidth",19,()=>a.strokeWidth||2),x=K(e,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),k=`${e.title?.id||""} ${e.desc?.id||""}`.trim();const w=!!(e.title?.id||e.desc?.id),z=!!e.ariaLabel||w;var m=qe();Y(m,t=>({xmlns:"http://www.w3.org/2000/svg",fill:"none",color:h(),...x,class:t,viewBox:"0 0 24 24","aria-label":e.ariaLabel,"aria-describedby":w?k:void 0,"aria-hidden":!z}),[()=>te("shrink-0",s[v()],e.class)]);var b=g(m);{var _=t=>{var i=Ee(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.title.id),B(f,e.title.title)}),n(t,i)};S(b,t=>{e.title?.id&&e.title.title&&t(_)})}var r=P(b);{var o=t=>{var i=Re(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.desc.id),B(f,e.desc.desc)}),n(t,i)};S(r,t=>{e.desc?.id&&e.desc.desc&&t(o)})}var c=P(r);d(m),M(()=>C(c,"stroke-width",u())),n(y,m),N()}var Ue=R("<title> </title>"),Ye=R("<desc> </desc>"),Ze=R('<svg><!><!><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M15.583 8.445h.01M10.86 19.71l-6.573-6.63a.993.993 0 0 1 0-1.4l7.329-7.394A.98.98 0 0 1 12.31 4l5.734.007A1.968 1.968 0 0 1 20 5.983v5.5a.992.992 0 0 1-.316.727l-7.44 7.5a.974.974 0 0 1-1.384.001Z"></path></svg>');function He(y,e){D(e,!0);const a=H("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let v=F(e,"size",19,()=>a.size||"md"),h=F(e,"color",19,()=>a.color||"currentColor"),u=F(e,"strokeWidth",19,()=>a.strokeWidth||2),x=K(e,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),k=`${e.title?.id||""} ${e.desc?.id||""}`.trim();const w=!!(e.title?.id||e.desc?.id),z=!!e.ariaLabel||w;var m=Ze();Y(m,t=>({xmlns:"http://www.w3.org/2000/svg",fill:"none",color:h(),...x,class:t,viewBox:"0 0 24 24","aria-label":e.ariaLabel,"aria-describedby":w?k:void 0,"aria-hidden":!z}),[()=>te("shrink-0",s[v()],e.class)]);var b=g(m);{var _=t=>{var i=Ue(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.title.id),B(f,e.title.title)}),n(t,i)};S(b,t=>{e.title?.id&&e.title.title&&t(_)})}var r=P(b);{var o=t=>{var i=Ye(),f=g(i,!0);d(i),M(()=>{C(i,"id",e.desc.id),B(f,e.desc.desc)}),n(t,i)};S(r,t=>{e.desc?.id&&e.desc.desc&&t(o)})}var c=P(r);d(m),M(()=>C(c,"stroke-width",u())),n(y,m),N()}var Je=A('<img class="absolute inset-0 h-full w-full object-cover blur-md"/>'),Ke=A("<source/>"),Qe=A('<picture><!> <img class="absolute inset-0 h-full w-full object-cover blur-md"/></picture>'),Ve=A('<a><article itemtype="https://schema.org/BlogPosting" itemprop="blogPost" class="index-post group relative flex w-full transform flex-col overflow-hidden shadow-xl transition duration-500 hover:shadow-2xl md:w-3xl md:rounded-lg md:hover:scale-105"><!> <div class="relative p-6 text-white"><time class="dt-published opacity-80 group-hover:font-semibold" itemprop="datePublished"> </time> <time class="dt-updated hidden" itemprop="dateModified"> </time> <h2 class="line-clamp-2 text-2xl font-bold group-hover:font-extrabold" itemprop="name headline"> </h2> <p class="line-clamp-2 text-lg group-hover:font-semibold" itemprop="description"> </p></div></article></a>');function Xe(y,e){D(e,!0);var a=Ve(),s=g(a),v=g(s);{var h=c=>{var t=U(),i=T(t);{var f=j=>{var L=Je();M(()=>{C(L,"src",e.article.cover),C(L,"alt",`${e.article.fm.title??""}'s Cover`)}),n(j,L)};S(i,j=>{j(f,!1)})}n(c,t)},u=c=>{var t=Qe(),i=g(t);J(i,17,()=>Object.entries(e.article.cover.sources),ge,(j,L)=>{var q=I(()=>ie(l(L),2));let W=()=>l(q)[0],O=()=>l(q)[1];var E=Ke();M(()=>{C(E,"srcset",O()),C(E,"type","image/"+W())}),n(j,E)});var f=P(i,2);d(t),M(()=>{C(f,"src",e.article.cover.img.src),C(f,"alt",`${e.article.fm.title??""}'s Cover`),C(f,"width",e.article.cover.img.w),C(f,"height",e.article.cover.img.h)}),n(c,t)};S(v,c=>{typeof e.article.cover=="string"?c(h):c(u,!1)})}var x=P(v,2),k=g(x),w=g(k,!0);d(k);var z=P(k,2),m=g(z,!0);d(z);var b=P(z,2),_=g(b,!0);d(b);var r=P(b,2),o=g(r,!0);d(r),d(x),d(s),d(a),M((c,t,i,f,j)=>{C(a,"href",c),C(k,"datetime",t),B(w,i),C(z,"datetime",f),B(m,j),B(_,e.article.fm.title),B(o,e.article.fm.summary)},[()=>Ae(`/blog/${e.article.slug}`),()=>e.article.fm.created.toISOString(),()=>ae(e.article.fm.created),()=>e.article.fm.updated.toISOString(),()=>ae(e.article.fm.updated)]),n(y,a),N()}var pe=A('<div class="my-4 md:my-0" style=""> </div> <!>',1),$e=A('<section itemscope="" itemtype="https://schema.org/Blog"><meta itemprop="name" content="Blog Articles"/> <div class="flex flex-col items-center gap-6 py-4"></div></section>');function et(y,e){D(e,!0);let a=I(()=>Object.entries(e.articles.reduce((h,u)=>{const x=u.fm.created.getFullYear().toString();return(h[x]??=[]).push(u),h},{})).sort(([h],[u])=>parseInt(u)-parseInt(h)));var s=$e(),v=P(g(s),2);J(v,21,()=>l(a),([h,u])=>h,(h,u,x,k)=>{var w=I(()=>ie(l(u),2));let z=()=>l(w)[0],m=()=>l(w)[1];var b=pe(),_=T(b),r=g(_,!0);d(_);var o=P(_,2);J(o,17,m,c=>c.slug,(c,t)=>{Xe(c,{get article(){return l(t)}})}),M(()=>B(r,z())),n(h,b)}),d(v),d(s),n(y,s),N()}var tt=A('<span class="sr-only">Pagina Precedente</span> <!>',1),at=A('<span class="sr-only">Pagina Successiva</span> <!>',1),rt=A('<div class="flex flex-col items-center justify-center gap-3"><!></div>');function it(y,e){D(e,!0);let a=I(()=>Array.from({length:e.pagesNumber},(h,u)=>({name:(u+1).toString(),href:`?page=${u+1}`,active:u+1===e.currentPage})));var s=rt(),v=g(s);Oe(v,{get pages(){return l(a)},get previous(){return e.previous},get next(){return e.next},prevContent:x=>{var k=tt(),w=P(T(k),2);Ne(w,{class:"h-5 w-5"}),n(x,k)},nextContent:x=>{var k=at(),w=P(T(k),2);Ge(w,{class:"h-5 w-5"}),n(x,k)},$$slots:{prevContent:!0,nextContent:!0}}),d(s),n(y,s),N()}var st=A("<button> </button>");function lt(y,e){var a=st();let s;a.__click=function(...h){e.onclick?.apply(this,h)};var v=g(a,!0);d(a),M(()=>{s=de(a,1,`cursor-pointer rounded-lg border border-gray-300 px-3 py-1.5 text-sm
                 hover:bg-gray-200 focus:outline-none focus-visible:ring-2
                 focus-visible:ring-blue-500`,null,s,{"bg-gray-200":e.active}),B(v,e.item)}),n(y,a)}ne(["click"]);var ot=A('<div><h3 class="mx-auto max-w-3xl space-y-8 text-left"> </h3> <div class="flex flex-row flex-wrap gap-2"></div></div>');function $(y,e){D(e,!0);var a=ot(),s=g(a),v=g(s,!0);d(s);var h=P(s,2);J(h,20,()=>e.list,u=>u,(u,x)=>{lt(u,{get item(){return x},onclick:()=>e.onToggle(x),get active(){return e.activeMap[x]}})}),d(h),d(a),M(()=>B(v,e.name)),n(y,a),N()}var nt=A('<div id="blog-filters" class="mt-6 space-y-8 rounded-2xl"><!> <!> <!></div>'),ct=A('<div class="relative mx-auto w-full max-w-4xl rounded-xl p-6 shadow-lg ring-1 ring-gray-200"><button type="button" class="flex w-full items-center justify-center gap-2 rounded-full px-5 py-3 hover:bg-gray-50 focus:outline-none active:scale-[0.98]" aria-label="Apri i filtri" aria-controls="blog-filters"><span class="font-medium text-gray-700">Filtra Articoli</span> <!></button> <!></div>');function dt(y,e){D(e,!0);const a=F(e,"filters",15);let s=le(!1),v=se({categories:{},tags:{},authors:{}});re(()=>{ee(()=>{Object.entries(a()).forEach(([r,o])=>{const c=G.url;o.length?(c.searchParams.set(r,o.join(",")),v[r]=o.reduce((t,i)=>(t[i]=!0,t),{})):c.searchParams.delete(r),oe().then(()=>xe(c,{}))})})});const h=r=>{a().categories.includes(r)?a(a().categories=a().categories.filter(o=>o!==r),!0):a(a().categories=[...a().categories,r],!0),v.categories[r]=!v.categories[r]},u=r=>{a().tags.includes(r)?a(a().tags=a().tags.filter(o=>o!==r),!0):a(a().tags=[...a().tags,r],!0),v.tags[r]=!v.tags[r]},x=r=>{a().authors.includes(r)?a(a().authors=a().authors.filter(o=>o!==r),!0):a(a().authors=[...a().authors,r],!0),v.authors[r]=!v.authors[r]},k=()=>Z(s,!l(s));var w=ct(),z=g(w);z.__click=k;var m=P(g(z),2);He(m,{class:"h-5 w-5 text-gray-600"}),d(z);var b=P(z,2);{var _=r=>{var o=nt(),c=g(o);$(c,{name:"Categorie",get list(){return ze},onToggle:h,get activeMap(){return v.categories}});var t=P(c,2);$(t,{name:"Tags",get list(){return Pe},onToggle:u,get activeMap(){return v.tags}});var i=P(t,2);{let f=I(()=>Ce.map(j=>j.name));$(i,{name:"Autori",get list(){return l(f)},onToggle:x,get activeMap(){return v.authors}})}d(o),ye(3,o,()=>ke),n(r,o)};S(b,r=>{l(s)&&r(_)})}d(w),M(()=>C(z,"aria-expanded",l(s))),n(y,w),N()}ne(["click"]);var vt=A('<section class="mx-auto mt-12 max-w-5xl px-4 text-center" aria-labelledby="blog-title"><h1 id="blog-title" class="mb-4 text-4xl font-bold tracking-tight">Blog</h1> <p class="mb-8 text-lg text-gray-600">Ecco i nostri ultimi articoli</p></section> <div class="mx-auto mb-12 max-w-5xl px-4"><!></div> <section class="mx-auto max-w-5xl space-y-12 px-4 pb-16"><!> <div class="flex justify-center"><!></div></section>',1);function At(y,e){D(e,!0);let a=I(()=>1),s=le(se({categories:[],tags:[],authors:[]}));re(()=>{const t=G.url;console.log("Search params:",G.url.searchParams),G.url.searchParams.get("page")&&(console.log("Imposto currentPage da query param",G.url.searchParams.get("page")),Z(a,+G.url.searchParams.get("page"))),Z(s,{categories:t.searchParams.get("categories")?.split(",")||[],tags:t.searchParams.get("tags")?.split(",")||[],authors:t.searchParams.get("authors")?.split(",")||[]},!0)}),ee(()=>{Z(a,+(G.url.searchParams.get("page")||1))});const v=t=>{Z(a,t);const i=new URL(G.url);i.searchParams.set("page",t.toString()),oe().then(()=>be(i,{}))},h=()=>{l(a)-1>=1&&v(l(a)-1)},u=()=>{l(a)+1<=l(w)&&v(l(a)+1)};let x=I(()=>e.data.articles.filter(t=>{const i=l(s).categories.length===0||l(s).categories.every(L=>t.fm.category===L),f=l(s).tags.length===0||l(s).tags.every(L=>t.fm.tags.includes(L)),j=l(s).authors.length===0||l(s).authors.every(L=>t.fm.author.name===L);return i&&f&&j})),k=I(()=>l(x).slice((l(a)-1)*4,l(a)*4)),w=I(()=>Math.ceil(l(x).length/4));ee(()=>{l(a)>l(w)&&v(l(w)||1)});var z=vt(),m=P(T(z),2),b=g(m);dt(b,{get filters(){return l(s)},set filters(t){Z(s,t,!0)}}),d(m);var _=P(m,2),r=g(_);et(r,{get articles(){return l(k)}});var o=P(r,2),c=g(o);it(c,{get pagesNumber(){return l(w)},get currentPage(){return l(a)},previous:h,next:u}),d(o),d(_),n(y,z),N()}export{At as component};
